# 塔路之戰 · Pygame v0.0.8-Beta

一款以卡片驅動的塔防遊戲：抽卡建塔、元素強化、升級進化，擋下每一波來襲的怪物。
## 📢 最新更新:
## v0.0.8-Beta 版本更新
- 新增天賦系統與魔法石：波次結束可挑選天賦，魔法石掉落、技能卡消耗魔法石施放效果。
- 主選單新增聖誕主題


## 🗒️ 版本歷史:

### v0.0.7-Beta 版本更新
- 新增伐木場，可透過木頭來補血主堡。
- 新增融合功能，可藉由原本四元素融合成不一樣的元素。
- 修復一些 BUG：穩定度與體驗優化。
### v0.0.6-Beta版本更新
- 萬聖節怪物新增。
- 新增防禦塔等級顯示。
- 修正防禦塔覆蓋問題。
- 修正小怪攻擊力。
### v0.0.5-Beta版本更新
- 新增出怪口隨機出現：每一波會依地圖出口總數，隨機選擇 1（≤3 個出口）或 2~3（≥4 個出口）個出口，本波在這些出口輪流出怪。
- 新增血條：怪物在地圖上顯示即時血量，戰況更清楚。
- 新增 BGM
- 修復一些 BUG：穩定度與體驗優化。
### v0.0.4-Beta版本更新
- 模式該為抽卡模式
- 新增卡片系統
- 新增元素強化
- 新增隨機地圖產生
## 未來規劃
- 新增更多卡片：更多元素、更多升級、更多金幣。
- 新增更多怪物：更多種類、更多屬性、更多血量。
- 新增更多音效。
- 新增更多特效。
- 新增更多功能：設定、存檔、遊戲排行榜。
- 新增更多 UI 元素。
- 新增更多測試。
- 新增更多說明文件。
## 安裝
```bash
pip install pygame
```

## 執行
```bash
python main.py
```

## 操作
### 滑鼠
- 左鍵：選擇卡片、在地圖上使用（建塔/升級）。
- 右鍵：丟棄手牌（+ $1 金幣）。
- 滑鼠移動：檢視格子/怪物資訊。

### 鍵盤
- `D` 抽卡（消耗 5 金幣）。
- `S` 回收塔（返還部分金幣）。
- `Space` 開始／暫停。
- `N` 下一波。
- `R` 地圖選單中可直接使用「隨機地圖」開局。
- `1/2/3` 遊戲速度 x1/x2/x4。

### 天賦 / 魔法石
- 每波清空後會跳出天賦選擇
- 部分天賦提升魔法石掉落率、上限、解鎖技能卡（例：寒霜領域、雷霆爆裂）。
- 魔法石掉落概率預設 3% ，上限 5 顆。
- 技能卡需消耗魔法石才能使用。

## 卡片系統
- 抽卡會將卡片加入手牌（普通塔、元素卡、升級卡、金幣卡）。
  - 普通塔（Basic）可建塔。
  - 元素卡（Fire / Water / Land / Wind）提供元素效果或轉型。
  - 升級卡（Upgrade）提升塔等級（不消耗金幣）。
  - 金幣卡（1/2/3 money）點擊立即獲得相應金幣（。
- 右鍵可丟棄任一手牌並獲得 +$1。

## 元素效果（概要）
- 火：範圍/燃燒持續傷害。
- 水：緩速。
- 土：流血持續傷害。
- 風：擊退。
- 冰：短暫冰凍敵人。
- 毒：在地面製造毒霧造成持續傷害。
- 雷電：連鎖攻擊多個敵人。

### 元素融合
可透過融合按鈕選擇手牌元素卡，依照下表合成新元素：
| 元素組合 | 融合結果 |
|----------|----------|
| 火 + 風  | 雷電 |
| 風 + 水  | 冰 |
| 土 + 水  | 毒 |

## 地圖
- 支援檔案地圖（`assets/map/*.txt`）與隨機產生。
- 隨機地圖會：
  - 置頂放置主堡（C），置底 1~3 個出怪點（S）並打通道路（1）。
  - 其他可建造格為 0；另隨機鋪設不可建造區（3, GREY）以增加變化。
